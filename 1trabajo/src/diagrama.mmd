---
title: Máquina de Café - Diagrama de Estados
---
stateDiagram-v2
[*] --> Idle
Idle --> solicitarcafe: Usuario pide café
solicitarcafe --> echarazucar: Usuario pide azúcar
solicitarcafe --> haciendocafe: Cafe in azúcar → directo a hacer café
echarazucar --> haciendocafe: Termina de echar azúcar
haciendocafe --> sirviendocafe: Café preparado (sirviendocafe('Nescafé'))
sirviendocafe --> Idle: Usuario toma café + limpieza manual
sirviendocafe --> Error: Fallo durante servicio
Idle --> Error: Error inesperado
haciendocafe --> Error: Fallo durante preparación
echarazucar --> Error: Fallo al echar azúcar
Error --> Idle: Máquina reiniciada (limpiarmaquina())
note right of Idle: Estado inicial. Espera orden para hacer café.
note right of sirviendocafe: Contiene marca como propiedad del estado.
note right of Error: Contiene mensaje de error. Se limpia para volver a Idle.

